(this.webpackJsonpvisormapx=this.webpackJsonpvisormapx||[]).push([[15],{586:function(e,t,n){"use strict";t.a=n.p+"static/media/inactivo.c25580cd.svg"},587:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var c=n(1),s=n(8),a=n(82),r=(n(588),n(2)),o={TARJETA:0,ELEMENTO:1,PROYECTO:2};t.b=function(e){var t=e.activo,n=void 0===t?0:t,i=e.tipo,l=void 0===i?o.ELEMENTO:i,u=e.history,j=e.direccion,b=Object(c.useContext)(a.a),h=Object(c.useMemo)((function(){var e=[];switch(l){case o.TARJETA:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"tinformacion"}),void 0!=b&&(b.includes("TC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"tconfiguracion"}),(b.includes("TGI")||b.includes("TGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"tgraficas"}),b.includes("TE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"testadistica"}));break;case o.ELEMENTO:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"einformacion"}),void 0!=b&&(b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"econfiguracion"}),(b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"egraficas"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"3estadistica"}));break;case o.PROYECTO:void 0!=b&&((b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"pinformacion"}),b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"pconfiguracion"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:2,direccion:"estadistica",key:"pestadistica"}),e.push({titulo:"Elementos",id:3,direccion:"elementos",key:"pelementos"}))}return e}),[b,l]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(s.f,{className:"navegacion py-1",children:Object(r.jsx)("div",{className:"panel d-flex justify-content-end",children:Object(r.jsx)(s.J,{variant:"tabs",children:h.map((function(e,t){return Object(r.jsx)(s.K,{children:e.id==n?Object(r.jsx)(s.L,{className:"link",active:!0,children:e.titulo}):Object(r.jsx)(s.L,{className:"link",onClick:function(){return function(e){switch(l){case o.TARJETA:u.push("/tarjetas/".concat(j,"/").concat(h[e].direccion));break;case o.ELEMENTO:u.push("/elementos/".concat(j,"/").concat(h[e].direccion));break;case o.PROYECTO:u.push("/proyectos/".concat(j,"/").concat(h[e].direccion))}}(t)},children:e.titulo})},e.key)}))})})})})}},588:function(e,t,n){},597:function(e,t,n){},784:function(e,t,n){"use strict";n.r(t);var c=n(7),s=n.n(c),a=n(11),r=n(33),o=n(1),i=n(8),l=n(34),u=n(43),j=n(189),b=n(191),h=n(589),d=(n(597),n(590)),f=n(190),O=n(2),m=function(e,t,n,c){var s=[],a=[];return e.length>1&&e.forEach((function(e){s.push(e.slice(11,e.length))})),t.forEach((function(e,t){a.push({label:"".concat(c[t].alias),data:e,fill:!1,backgroundColor:"rgb(".concat(n[t],")"),borderColor:"rgb(".concat(n[t],", 0.2)")})})),{labels:s,datasets:a}},x={scales:{y:{grace:"0.25%"}},plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy",onZoomComplete:function(e){e.chart.update("none")}}}},maintainAspectRatio:!1},p=["81,205,160","109,120,173","224,125,117"],v=function(e){var t=e.sensores,n=Object(o.useRef)(null),c=f.a.getState().graficasDatos,s=t[0].map((function(){return[]})),a=Object(o.useState)([]),l=Object(r.a)(a,2),u=l[0],j=l[1],v=Object(o.useState)(),g=Object(r.a)(v,2),E=g[0],k=g[1],N=Object(o.useState)(s),w=Object(r.a)(N,2),y=w[0],S=w[1],T=function(e,t){return e.length<c.corto?[].concat(Object(b.a)(e),[t]):[].concat(Object(b.a)(e.slice(e.length-(c.corto-1),e.length)),[t])};return Object(o.useEffect)((function(){h.a.register(d.a),t.length>1?function(){var e=[],n=Object(b.a)(s);t.forEach((function(t){e.push(t[0].fecha);for(var c=[],s=0;s<t.length;s++)c.push(T(n[s],t[s].valor));n=[].concat(c)})),S(n),j(e)}():1==t.length&&(j((function(e){return T(e,t[0][0].fecha)})),S((function(e){for(var n=[],c=0;c<t[0].length;c++)n.push(T(e[c],t[0][c].valor));return n})))}),[t]),Object(O.jsx)(O.Fragment,{children:null===y[0][0]?"Informaci\xf3n no disponible":Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"container-fluid",style:{minHeight:"40vh",maxHeight:"50vh"},children:[Object(O.jsx)(h.b,{data:m(u,y,p,t[0]),options:x,ref:n}),Object(O.jsx)(i.e,{className:"boton-reset",onClick:function(){n.current.resetZoom()},children:"Restablecer Zoom"})]}),Object(O.jsx)("div",{className:"mt-5",children:t[0].map((function(e,t){return Object(O.jsx)("div",{id:"accordion",children:Object(O.jsxs)(i.f,{className:"mb-0",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)(i.e,{block:!0,className:"text-left m-0 p-0 ",onClick:function(){return k(E===t?null:t)},children:Object(O.jsx)("h5",{className:"m-0 p-0",children:Object(O.jsxs)("span",{className:"text-color",children:[e.nombre," (",e.alias,")"]})})})}),Object(O.jsx)(i.l,{show:E===t,children:Object(O.jsxs)(i.g,{children:[Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Fecha : ",u[u.length-1]," "]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Valor (actual) :",void 0!=y[t][y[t].length-1]?y[t][y[t].length-1].toFixed(4):0]})})]})})]})},t)}))})]})})},g=function(e,t,n,c){var s=[],a=[];return e.length>1&&e.forEach((function(e){s.push(e.slice(11,e.length))})),t.forEach((function(e,t){a.push({label:"".concat(c[t].alias),data:e,fill:!1,backgroundColor:"rgb(".concat(n[t],")"),borderColor:"rgb(".concat(n[t],", 0.2)")})})),{labels:s,datasets:a}},E={scales:{y:{grace:"0.25%"}},plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy",onZoomComplete:function(e){e.chart.update("none")}}}},maintainAspectRatio:!1},k=["81,205,160","109,120,173","224,125,117"],N=function(e){var t=e.sensores,n=Object(o.useRef)(null),c=t[0].map((function(){return[]})),s=Object(o.useState)(),a=Object(r.a)(s,2),l=a[0],u=a[1],j=Object(o.useState)([]),m=Object(r.a)(j,2),x=m[0],p=m[1],v=Object(o.useState)(c),N=Object(r.a)(v,2),w=N[0],y=N[1],S=Object(o.useState)(!1),T=Object(r.a)(S,2),C=T[0],I=T[1],F=f.a.getState().graficasDatos,R=function(e,t){return e.length<F.corto?[].concat(Object(b.a)(e),[t]):[].concat(Object(b.a)(e.slice(e.length-(F.corto-1),e.length)),[t])};return Object(o.useEffect)((function(){h.a.register(d.a),t.length>1?function(){var e=[],n=Object(b.a)(c);t.forEach((function(t){if(null!==t[0].landmark){I(!0),e.push(t[0].fecha);for(var c=[],s=0;s<t.length;s++)c.push(R(n[s],t[s].landmark.nivel[1]));n=[].concat(c)}})),y(n),p(e)}():1===t.length&&null!==t[0][0].landmark&&(I(!0),p((function(e){return R(e,t[0][0].fecha)})),y((function(e){for(var n=[],c=0;c<t[0].length;c++)n.push(R(e[c],t[0][c].landmark.nivel[1]));return n})))}),[t]),Object(O.jsx)(O.Fragment,{children:C?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"container-fluid",style:{minHeight:"40vh",maxHeight:"50vh"},children:[Object(O.jsx)(h.b,{data:g(x,w,k,t[0]),options:E,ref:n}),Object(O.jsx)(i.e,{className:"boton-reset",onClick:function(){n.current.resetZoom()},children:"Restablecer Zoom"})]}),Object(O.jsx)("div",{className:"mt-5",children:t[0].map((function(e,t){return Object(O.jsx)("div",{id:"accordion",children:Object(O.jsxs)(i.f,{className:"mb-0",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)(i.e,{block:!0,className:"text-left m-0 p-0 ",onClick:function(){return u(l===t?null:t)},children:Object(O.jsx)("h5",{className:"m-0 p-0",children:Object(O.jsxs)("span",{className:"text-color",children:[" ",e.nombre," (",e.alias,")"," "]})})})}),Object(O.jsx)(i.l,{show:l===t,children:Object(O.jsxs)(i.g,{children:[Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Fecha : ",e.fecha," "]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Valor (actual) :"," ",e.landmark.nivel[1].toFixed(4)]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Cambio t : ",(e.landmark.deltai/2).toFixed(4)," ","min"]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Cambio f(t) : ",e.landmark.deltay.toFixed(4)]})})]})})]})},t)}))})]}):"Informaci\xf3n no disponible"})},w=function(e,t,n,c){var s=[],a=[];return e.length>1&&e.forEach((function(e){s.push(e.slice(11,e.length))})),t.forEach((function(e,t){a.push({label:"".concat(c[t].alias),data:e,fill:!1,backgroundColor:"rgb(".concat(n[t],")"),borderColor:"rgb(".concat(n[t],", 0.2)")})})),{labels:s,datasets:a}},y={scales:{y:{grace:"0.25%"}},plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy",onZoomComplete:function(e){e.chart.update("none")}}}},maintainAspectRatio:!1},S=["81,205,160","109,120,173","224,125,117"],T=function(e){var t=e.sensores,n=Object(o.useRef)(null),c=t[0].map((function(){return[]})),s=Object(o.useState)(),a=Object(r.a)(s,2),l=a[0],u=a[1],j=Object(o.useState)([]),m=Object(r.a)(j,2),x=m[0],p=m[1],v=Object(o.useState)(c),g=Object(r.a)(v,2),E=g[0],k=g[1],N=Object(o.useState)(!1),T=Object(r.a)(N,2),C=T[0],I=T[1],F=f.a.getState().graficasDatos,R=function(e,t){return e.length<F.corto?[].concat(Object(b.a)(e),[t]):[].concat(Object(b.a)(e.slice(e.length-(F.corto-1),e.length)),[t])};return Object(o.useEffect)((function(){h.a.register(d.a),t.length>1?function(){var e=[],n=Object(b.a)(c);t.forEach((function(t){if(null!==t[0].peligrosidad){I(!0),e.push(t[0].fecha);for(var c=[],s=0;s<t.length;s++)c.push(R(n[s],t[s].peligrosidad.peligrosidad[1]));n=[].concat(c)}})),k(n),p(e)}():1===t.length&&null!==t[0][0].peligrosidad&&(I(!0),p((function(e){return R(e,t[0][0].fecha)})),k((function(e){for(var n=[],c=0;c<t[0].length;c++)n.push(R(e[c],t[0][c].peligrosidad.peligrosidad[1]));return n})))}),[t]),Object(O.jsx)(O.Fragment,{children:C?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"container-fluid",style:{minHeight:"40vh",maxHeight:"50vh"},children:[Object(O.jsx)(h.b,{data:w(x,E,S,t[0]),options:y,ref:n}),Object(O.jsx)(i.e,{className:"boton-reset",onClick:function(){n.current.resetZoom()},children:"Restablecer Zoom"})]}),Object(O.jsx)("div",{className:"mt-5",children:t[0].map((function(e,t){return Object(O.jsx)("div",{id:"accordion",children:Object(O.jsxs)(i.f,{className:"mb-0",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)(i.e,{block:!0,className:"text-left m-0 p-0 ",onClick:function(){return u(l===t?null:t)},children:Object(O.jsx)("h5",{className:"m-0 p-0",children:Object(O.jsxs)("span",{className:"text-color",children:[" ",e.nombre," (",e.alias,")"," "]})})})}),Object(O.jsx)(i.l,{show:l===t,children:Object(O.jsxs)(i.g,{children:[Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Fecha : ",e.fecha," "]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Tendencia (sostenida) :"," ",e.peligrosidad.peligrosidad[0].toFixed(4)]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Tendencia (actual) :"," ",e.peligrosidad.peligrosidad[1].toFixed(4)]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Cambio f(t) (sostenido) :"," ",e.peligrosidad.deltay[1].toFixed(4)]})}),Object(O.jsx)("pre",{children:Object(O.jsxs)("h6",{children:["Cambio f(t) (actual) :"," ",e.peligrosidad.deltay[1].toFixed(4)]})})]})})]})},t)}))})]}):"Informaci\xf3n no disponible"})},C=function(e){var t=e.graficaActiva,n=e.idx,c=Object(o.useState)("Basica"),s=Object(r.a)(c,2),a=s[0],l=s[1];return Object(O.jsxs)(i.f,{className:"shadow",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsxs)(i.M,{className:"justify-content-between align-items-center",children:[Object(O.jsx)(i.k,{sm:"6",className:"my-2",children:Object(O.jsx)("h5",{className:"m-0",children:t.nombre})}),Object(O.jsx)(i.k,{sm:"6",className:"my-2",children:Object(O.jsx)(i.k,{xs:"12",children:Object(O.jsxs)(i.N,{custom:!0,name:"select",id:"select",value:a,onChange:function(e){l(e.target.value)},children:[Object(O.jsx)("option",{value:"Basica",children:"Basica"}),Object(O.jsx)("option",{value:"Nivel",children:"Nivel"}),Object(O.jsx)("option",{value:"Tendencia",children:"Tendencia"})]})})})]})}),Object(O.jsxs)(i.g,{children:[Object(O.jsx)("div",{className:"Basica"===a?"":"ocultar",children:Object(O.jsx)(v,{sensores:t.sensores})}),Object(O.jsx)("div",{className:"Nivel"===a?"":"ocultar",children:Object(O.jsx)(N,{sensores:t.sensores})}),Object(O.jsx)("div",{className:"Tendencia"===a?"":"ocultar",children:Object(O.jsx)(T,{sensores:t.sensores})})]})]},n)},I=function(e){var t=e.nombreTarjeta,n=Object(o.useState)([]),c=Object(r.a)(n,2),b=c[0],h=c[1],d=Object(o.useState)(!0),m=Object(r.a)(d,2),x=m[0],p=m[1],v=f.a.getState().graficasDatos,g=localStorage.getItem("token"),E=t,k=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,c,a,o,i,j,b,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(E,g);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(E,".S").concat(e.index))})),e.next=9,Promise.all([Object(u.i)(a,g,v.corto),Object(u.h)(a,g,v.corto),Object(u.j)(a,g,v.corto)]);case 9:o=e.sent,i=Object(r.a)(o,3),j=i[0],b=i[1],d=i[2],j.sensores=j.sensores.reverse(),b.sensores=b.sensores.reverse(),d.sensores=d.sensores.reverse(),f=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)(Object(l.a)(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},j.sensores[n][e]),b.sensores[n][e]),d.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<j.sensores.length;s++)n(s);t.length>0&&f.push({nombre:e.nombre,sensores:t})})),h(f);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",setInterval(Object(a.a)(s.a.mark((function e(){var t,n,c,a,o,i,j,b,d,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(E,g);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(E,".S").concat(e.index))})),e.next=9,Promise.all([Object(u.i)(a,g,1),Object(u.h)(a,g,1),Object(u.j)(a,g,1)]);case 9:o=e.sent,i=Object(r.a)(o,3),j=i[0],b=i[1],d=i[2],f=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)(Object(l.a)(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},j.sensores[n][e]),b.sensores[n][e]),d.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<j.sensores.length;s++)n(s);t.length>0&&f.push({nombre:e.nombre,sensores:t})})),h(f);case 17:case"end":return e.stop()}}),e)}))),3e4));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return t=N(),p(!1),e.abrupt("return",(function(){return clearInterval(t)}));case 5:case"end":return e.stop()}}),e)}))),[]),x?Object(O.jsx)("div",{style:{display:"grid",placeItems:"center",height:"40vh"},children:Object(O.jsx)(j.a,{height:"10vh"})}):Object(O.jsx)("div",{children:Object(O.jsx)(i.M,{class:"row w-100",children:b.map((function(e,t){return Object(O.jsx)(i.k,{sm:"12",md:"6",children:Object(O.jsx)(C,{graficaActiva:e,idx:t},t)},t)}))})})},F=function(e){var t=e.nombreTarjeta,n=Object(o.useState)([]),c=Object(r.a)(n,2),j=c[0],b=c[1],h=f.a.getState().graficasDatos,d=localStorage.getItem("token"),m=t,x=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.h)(a,d,h.corto);case 9:(r=e.sent).sensores=r.sensores.reverse(),o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=setInterval(Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.h)(a,d,1);case 9:r=e.sent,o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 13:case"end":return e.stop()}}),e)}))),3e4),e.abrupt("return",(function(){return clearInterval(t)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)(i.M,{children:j.map((function(e,t){return Object(O.jsx)(i.k,{sm:"12",md:"6",children:Object(O.jsxs)(i.f,{className:"shadow",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)("h6",{className:"m-2",children:e.nombre})}),Object(O.jsx)(i.g,{children:Object(O.jsx)(N,{sensores:e.sensores})})]})},t)}))})},R=function(e){var t=e.nombreTarjeta,n=Object(o.useState)([]),c=Object(r.a)(n,2),j=c[0],b=c[1],h=f.a.getState().graficasDatos,d=localStorage.getItem("token"),m=t,x=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.i)(a,d,h.corto);case 9:(r=e.sent).sensores=r.sensores.reverse(),o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"==c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",setInterval(Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.i)(a,d,1);case 9:r=e.sent,o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"==c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 13:case"end":return e.stop()}}),e)}))),3e4));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=p(),e.abrupt("return",(function(){return clearInterval(t)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)("div",{children:Object(O.jsx)(i.M,{children:j.map((function(e,t){return Object(O.jsx)(i.k,{sm:"12",md:"6",children:Object(O.jsxs)(i.f,{className:"shadow",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)("h6",{className:"m-2",children:e.nombre})}),Object(O.jsx)(i.g,{children:Object(O.jsx)(v,{sensores:e.sensores})})]})},t)}))})})},A=function(e){var t=e.nombreTarjeta,n=Object(o.useState)([]),c=Object(r.a)(n,2),j=c[0],b=c[1],h=f.a.getState().graficasDatos,d=localStorage.getItem("token"),m=t,x=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.j)(a,d,h.corto);case 9:(r=e.sent).sensores=r.sensores.reverse(),o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return t=setInterval(Object(a.a)(s.a.mark((function e(){var t,n,c,a,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(m,d);case 2:return t=e.sent,n=t.graficas,c=t.sensores,a=[],c.forEach((function(e){a.push("".concat(m,".S").concat(e.index))})),e.next=9,Object(u.j)(a,d,1);case 9:r=e.sent,o=[],n.forEach((function(e){for(var t=[],n=function(n){var s=[];e.sensores.forEach((function(e){"activo"===c[e].estado&&s.push(Object(l.a)({nombre:c[e].nombre,alias:c[e].alias},r.sensores[n][e]))})),s.length>0&&t.push(s)},s=0;s<r.sensores.length;s++)n(s);t.length>0&&o.push({nombre:e.nombre,sensores:t})})),b(o);case 13:case"end":return e.stop()}}),e)}))),3e4),e.abrupt("return",(function(){return clearInterval(t)}));case 4:case"end":return e.stop()}}),e)}))),[]),Object(O.jsx)(i.M,{children:j.map((function(e,t){return Object(O.jsx)(i.k,{sm:"12",md:"6",children:Object(O.jsxs)(i.f,{className:"shadow",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsx)("h6",{className:"m-2",children:e.nombre})}),Object(O.jsx)(i.g,{children:Object(O.jsx)(T,{sensores:e.sensores})})]})},t)}))})},M=n(75),L=n(586),Z=n(587);t.default=function(e){var t=e.match.params.nombreTarjeta,n=e.history,c=Object(o.useState)({estado:"inactivo",icono:L.a}),l=Object(r.a)(c,2),b=l[0],h=l[1],d=Object(o.useState)(!0),f=Object(r.a)(d,2),m=f[0],x=f[1],p=localStorage.getItem("token"),v=t,g=function(){var e=Object(a.a)(s.a.mark((function e(){var t,n,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.r)(v,p);case 2:t=e.sent,n=t.estado,c="activo"==n?M.a:L.a,a=n[0].toUpperCase()+n.substring(1),h({estado:a,icono:c});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=setInterval(Object(a.a)(s.a.mark((function e(){var t,n,c,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.r)(v,p);case 2:t=e.sent,n=t.estado,c="activo"==n?M.a:L.a,a=n[0].toUpperCase()+n.substring(1),h({estado:a,icono:c});case 7:case"end":return e.stop()}}),e)}))),3e4),x(!1),e.abrupt("return",(function(){return clearInterval(t)}));case 5:case"end":return e.stop()}}),e)}))),[]),m?Object(O.jsx)("div",{style:{display:"grid",placeItems:"center",height:"40vh"},children:Object(O.jsx)(j.a,{height:"10vh"})}):Object(O.jsxs)(i.m,{fluid:!0,children:[Object(O.jsx)(Z.b,{activo:2,tipo:Z.a.TARJETA,history:n,direccion:v}),Object(O.jsx)(i.M,{children:Object(O.jsx)(i.k,{sm:"12",children:Object(O.jsx)(i.f,{className:"shadow",children:Object(O.jsx)(i.g,{children:Object(O.jsxs)(i.M,{className:"justify-content-between",children:[Object(O.jsxs)(i.k,{className:"col-3 d-flex align-items-center",children:[Object(O.jsx)("img",{src:b.icono,className:"icono"}),Object(O.jsx)("h4",{className:"ml-2",children:b.estado})]}),Object(O.jsxs)(i.k,{className:"col-9 text-right",children:[Object(O.jsx)("h5",{children:"Tarjeta"}),Object(O.jsx)("h3",{children:v})]})]})})})})}),Object(O.jsx)(i.M,{children:Object(O.jsx)(i.k,{sm:"12",children:Object(O.jsxs)(i.f,{className:"shadow",children:[Object(O.jsx)(i.j,{className:"contenedor-cabecera",children:Object(O.jsxs)("h4",{children:[Object(O.jsx)("i",{className:"far fa-chart-bar"})," ",Object(O.jsx)("span",{children:" Graficas "})]})}),Object(O.jsx)(i.g,{children:Object(O.jsxs)(i.Z,{activeTab:"custom",children:[Object(O.jsxs)(i.J,{variant:"tabs",children:[Object(O.jsx)(i.K,{children:Object(O.jsx)(i.L,{"data-tab":"custom",children:"Custom"})}),Object(O.jsx)(i.K,{children:Object(O.jsx)(i.L,{"data-tab":"basica",children:"Basica"})}),Object(O.jsx)(i.K,{children:Object(O.jsx)(i.L,{"data-tab":"nivel",children:"Nivel"})}),Object(O.jsx)(i.K,{children:Object(O.jsx)(i.L,{"data-tab":"tendencia",children:"Tendencia"})})]}),Object(O.jsxs)(i.X,{children:[Object(O.jsx)(i.Y,{"data-tab":"custom",children:Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)(I,{nombreTarjeta:t})})}),Object(O.jsx)(i.Y,{"data-tab":"basica",children:Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)(R,{nombreTarjeta:t})})}),Object(O.jsx)(i.Y,{"data-tab":"nivel",children:Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)(F,{nombreTarjeta:t})})}),Object(O.jsx)(i.Y,{"data-tab":"tendencia",children:Object(O.jsx)("div",{className:"mt-4",children:Object(O.jsx)(A,{nombreTarjeta:t})})})]})]})})]})})})]})}}}]);
//# sourceMappingURL=15.02ef773c.chunk.js.map