(this.webpackJsonpvisormapx=this.webpackJsonpvisormapx||[]).push([[9],{578:function(e,c,s){"use strict";c.a=s.p+"static/media/inactivo.c25580cd.svg"},579:function(e,c,s){"use strict";s.d(c,"a",(function(){return r}));var n=s(1),i=s(8),t=s(80),a=(s(580),s(2)),r={TARJETA:0,ELEMENTO:1,PROYECTO:2};c.b=function(e){var c=e.activo,s=void 0===c?0:c,o=e.tipo,l=void 0===o?r.ELEMENTO:o,j=e.history,d=e.direccion,b=Object(n.useContext)(t.a),h=Object(n.useMemo)((function(){var e=[];switch(l){case r.TARJETA:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"tinformacion"}),void 0!=b&&(b.includes("TC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"tconfiguracion"}),(b.includes("TGI")||b.includes("TGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"tgraficas"}),b.includes("TE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"testadistica"}));break;case r.ELEMENTO:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"einformacion"}),void 0!=b&&(b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"econfiguracion"}),(b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"egraficas"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"3estadistica"}));break;case r.PROYECTO:void 0!=b&&((b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"pinformacion"}),b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"pconfiguracion"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:2,direccion:"estadistica",key:"pestadistica"}),e.push({titulo:"Elementos",id:3,direccion:"elementos",key:"pelementos"}))}return e}),[b,l]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(i.f,{className:"navegacion py-1",children:Object(a.jsx)("div",{className:"panel d-flex justify-content-end",children:Object(a.jsx)(i.J,{variant:"tabs",children:h.map((function(e,c){return Object(a.jsx)(i.K,{children:e.id==s?Object(a.jsx)(i.L,{className:"link",active:!0,children:e.titulo}):Object(a.jsx)(i.L,{className:"link",onClick:function(){return function(e){switch(l){case r.TARJETA:j.push("/tarjetas/".concat(d,"/").concat(h[e].direccion));break;case r.ELEMENTO:j.push("/elementos/".concat(d,"/").concat(h[e].direccion));break;case r.PROYECTO:j.push("/proyectos/".concat(d,"/").concat(h[e].direccion))}}(c)},children:e.titulo})},e.key)}))})})})})}},580:function(e,c,s){},644:function(e,c,s){},784:function(e,c,s){"use strict";s.r(c);var n=s(7),i=s.n(n),t=s(34),a=s(11),r=s(33),o=s(1),l=s(8),j=(s(644),s(41)),d=s(74),b=s(578),h=s(2),O=function(e){var c=e.sensor,s=c.estado[0].toUpperCase()+c.estado.substring(1),n="activo"==c.estado,i=n?d.a:b.a;return Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsxs)(l.f,{className:"shadow",children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:c.nombre})}),null!==c.basica&&n?Object(h.jsx)(l.g,{children:Object(h.jsxs)(l.M,{className:"align-items-center justify-content-center",children:[Object(h.jsxs)(l.k,{sm:"8",children:[Object(h.jsx)("p",{children:Object(h.jsxs)("b",{children:[" ",c.valor?c.valor.toFixed(2):"-"," ",c.unidades]})}),"S"==c.tipo?Object(h.jsxs)("p",{children:["NORMALIZACI\xd3N : ",c.landmark.nivel[1].toFixed(4)]}):void 0,"S"==c.tipo?Object(h.jsxs)("p",{children:["TENDENCIA : ",c.peligrosidad.peligrosidad[0].toFixed(4)]}):void 0,Object(h.jsxs)("p",{children:[c.estado.toUpperCase()," "]})]}),Object(h.jsx)(l.k,{md:"4",children:"S"==c.tipo?"activo"==c.estado&&c.landmark.nivel[1]<=1&&c.landmark.nivel[1]>=0?Object(h.jsx)("div",{className:"contenedor-icono",children:Object(h.jsx)("img",{src:d.a,className:"icono"})}):Object(h.jsx)("div",{className:"contenedor-icono",children:Object(h.jsx)("img",{src:b.a,className:"icono"})}):"activo"==c.estado?Object(h.jsx)("div",{className:"contenedor-icono",children:Object(h.jsx)("img",{src:d.a,className:"icono"})}):Object(h.jsx)("div",{className:"contenedor-icono",children:Object(h.jsx)("img",{src:b.a,className:"icono"})})})]})}):Object(h.jsxs)(l.g,{className:"shadow",children:[Object(h.jsxs)("div",{className:"container-fluid d-flex align-items-center my-4",children:[Object(h.jsx)("img",{src:i,className:"icono"}),Object(h.jsx)("h4",{className:"ml-2",children:s})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsxs)(l.f,{children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"B\xe1sica"})}),Object(h.jsx)(l.g,{children:"Informaci\xf3n no disponible"})]})}),Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsxs)(l.f,{children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Niveles"})}),Object(h.jsx)(l.g,{children:"Informaci\xf3n no disponible"})]})}),Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsxs)(l.f,{children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Tendencia"})}),Object(h.jsx)(l.g,{children:"Informaci\xf3n no disponible"})]})})]})]})]})})},u=function(e){var c=e.sensores;return Object(h.jsx)("div",{children:Object(h.jsx)(l.M,{children:c.valores.map((function(e,c){return Object(h.jsx)(O,{sensor:e},"graficas_sensor"+c)}))})})},m=s(579),x=s(23),f=s(185);c.default=function(e){var c=e.match.params.idElemento,s=e.history,n=Object(o.useState)([]),p=Object(r.a)(n,2),g=p[0],k=p[1],v=Object(o.useState)([]),N=Object(r.a)(v,2),I=N[0],E=N[1],y=Object(o.useState)(!0),M=Object(r.a)(y,2),A=M[0],T=M[1],S=Object(o.useRef)(null),G=Object(o.useState)({nombre:"",descripcion:"",area:"",linea:"",tipo:"",proceso:"",estado:"inactivo",icono:b.a}),w=Object(r.a)(G,2),C=w[0],V=w[1],L=Object(o.useState)({SA:0,SI:0,GA:0,GI:0,VA:0,VI:0}),R=Object(r.a)(L,2),J=R[0],P=R[1],Y=localStorage.getItem("token"),F=c,_=function(){var e=Object(a.a)(i.a.mark((function e(){var s,n,a,o,l,h,O,u,m,x,f,p,g,v,N,I,y,M,A,T,S,G,w,C,L,R,J,_,z,U,D,H,K;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=c){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(j.d)(Y,F);case 4:return s=e.sent,n=s.nombre,a=s.identificador,o=s.descripcion,l=s.area,h=s.linea,O=s.proceso,u=s.tipo,m=s.estado,x=s.sensores,f=s.variables,p=s.graficas,g="",x.length>0&&(g=x[0].direccion.substr(0,5)),e.next=20,Object(j.n)(g,Y);case 20:return v=e.sent,N=v.sensores,I=[],y=[],f.forEach((function(e){y.push("".concat(F,".V").concat(e.index))})),x.forEach((function(e){I.push("".concat(e.direccion))})),e.next=28,Promise.all([Object(j.i)(I,Y,1),Object(j.h)(I,Y,1),Object(j.j)(I,Y,1),Object(j.f)(y,Y,1)]);case 28:M=e.sent,A=Object(r.a)(M,4),T=A[0].sensores,S=A[1],G=A[2],w=A[3].variables,C=[],x.map((function(e,c){var s=e.direccion,n=s.substring(s.indexOf(".")+2),i=N.find((function(e){return e.index===parseInt(n)}));C.push(Object(t.a)(Object(t.a)(Object(t.a)({nombre:i.nombre,alias:i.alias,estado:i.estado,unidades:i.unidades,tipo:"S"},T[0][c]),S.sensores[0][c]),G.sensores[0][c]))})),f.forEach((function(e,c){C.push(Object(t.a)({nombre:e.nombre,alias:e.alias,estado:e.estado,unidades:e.unidades,tipo:"V"},w[0][c]))})),k(C),L=0,R=0,J=0,_=0,z=0,U=0,D=[],p.forEach((function(e){var c=[];e.direcciones.forEach((function(e){if("V"===e[0]){var s=f.find((function(c){return c.index===parseInt(e.substring(1))}));"activo"===s.estado?(z+=1,c.push(Object(t.a)({nombre:s.nombre,alias:s.alias,estado:s.estado,unidades:s.unidades,tipo:"V"},w[0][parseInt(s.index)]))):U+=1}else{var n=parseInt(e.substring(1)),i=x[n].direccion,a=i.slice(i.indexOf(".")+2,i.length),r=N.find((function(e){return e.index===parseInt(a)}));"activo"===r.estado?(L+=1,c.push(Object(t.a)(Object(t.a)(Object(t.a)({nombre:r.nombre,alias:r.alias,estado:r.estado,unidades:r.unidades,tipo:"S"},T[0][n]),S.sensores[0][n]),G.sensores[0][n]))):R+=1}})),c.length>0?(J+=1,D.push("V"===e.direcciones[0][0]?{nombre:e.nombre,datos:{tipo:"variables",valores:c}}:{nombre:e.nombre,datos:{tipo:"sensores",valores:c}})):_+=1})),E(D),H="activo"==m?d.a:b.a,K=m[0].toUpperCase()+m.substring(1),V({nombre:n,identificador:a,descripcion:o,area:l,linea:h,tipo:u,proceso:O,estado:K,icono:H}),P({SA:L,SI:R,GA:J,GI:_,VA:z,VI:U});case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(){null!=S.current&&clearInterval(S.current)}));case 1:case"end":return e.stop()}}),e)}))),[]),Object(o.useEffect)(Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),null!=S.current&&(clearInterval(S.current),S.current=null),e.next=4,_();case 4:S.current=setInterval(_,3e4),T(!1);case 6:case"end":return e.stop()}}),e)}))),[c]),void 0==c?Object(h.jsx)(x.a,{to:"/"}):A?Object(h.jsx)("div",{style:{display:"grid",placeItems:"center",height:"40vh"},children:Object(h.jsx)(f.a,{height:"10vh"})}):Object(h.jsxs)(l.m,{fluid:!0,children:[Object(h.jsx)(m.b,{activo:0,tipo:m.a.ELEMENTO,history:s,direccion:F}),Object(h.jsx)(l.M,{children:Object(h.jsx)(l.k,{sm:"12",children:Object(h.jsx)(l.f,{className:"shadow",children:Object(h.jsx)(l.g,{children:Object(h.jsxs)(l.M,{className:"justify-content-between",children:[Object(h.jsxs)(l.k,{className:"col-3 d-flex align-items-center",children:[Object(h.jsx)("img",{src:C.icono,className:"icono"}),Object(h.jsx)("h4",{className:"ml-2",children:C.estado})]}),Object(h.jsxs)(l.k,{className:"col-9 text-right",children:[Object(h.jsx)("h5",{children:"Proyecto"}),Object(h.jsx)("h3",{children:"".concat(C.nombre)})]})]})})})})}),Object(h.jsx)(l.M,{children:Object(h.jsx)(l.k,{children:Object(h.jsxs)(l.f,{className:"shadow",children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera-principal",children:"General"}),Object(h.jsxs)(l.g,{children:[Object(h.jsxs)(l.H,{accent:!0,children:[Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Identificador :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.identificador})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Descripcion :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.descripcion})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Area :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.area})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Linea :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.linea})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Proceso :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.proceso})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"4",children:Object(h.jsx)(l.I,{accent:"info",children:"Tipo :"})}),Object(h.jsx)(l.k,{sm:"4",className:"align-self-center",children:C.tipo})]})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)(l.H,{accent:!0,children:[Object(h.jsxs)(l.M,{className:"justify-content-end",children:[Object(h.jsx)(l.k,{sm:"3",className:"align-self-center encabezado_general",children:"Sensores"}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center encabezado_general",children:"Variables"}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center encabezado_general",children:"Grupos"})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"3",children:Object(h.jsx)(l.I,{accent:"dark",children:"Inactivos :"})}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.SI}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.VI}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.GI})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"3",children:Object(h.jsx)(l.I,{accent:"dark",children:"Activos :"})}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.SA}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.VA}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.GA})]}),Object(h.jsxs)(l.M,{children:[Object(h.jsx)(l.k,{sm:"3",children:Object(h.jsx)(l.I,{accent:"dark",children:"Totales :"})}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.SA+J.SI}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.VA+J.VI}),Object(h.jsx)(l.k,{sm:"3",className:"align-self-center",children:J.GA+J.GI})]})]})]})]})})}),Object(h.jsx)(l.M,{children:Object(h.jsx)(l.k,{children:Object(h.jsxs)(l.f,{className:"shadow",children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera-principal",children:"Sensores / Variables"}),Object(h.jsx)(l.g,{children:Object(h.jsxs)(l.Z,{activeTab:"grupos",children:[Object(h.jsx)(l.J,{variant:"tabs",children:Object(h.jsx)(l.K,{children:Object(h.jsx)(l.L,{"data-tab":"grupos",children:"Grupos"})})}),Object(h.jsxs)(l.X,{className:"mt-4",children:[Object(h.jsx)(l.Y,{"data-tab":"grupos",children:I.map((function(e,c){return Object(h.jsxs)(l.f,{children:[Object(h.jsx)(l.j,{className:"contenedor-cabecera-grafica",children:Object(h.jsx)("h4",{children:e.nombre})}),Object(h.jsx)(l.g,{children:Object(h.jsx)(u,{sensores:e.datos})})]},"grupos"+c)}))}),Object(h.jsx)(l.Y,{"data-tab":"todos",children:Object(h.jsx)(l.M,{children:g.map((function(e,c){return Object(h.jsx)(O,{sensor:e},"todos"+c)}))})})]})]})})]})})})]})}}}]);
//# sourceMappingURL=9.255f16e5.chunk.js.map