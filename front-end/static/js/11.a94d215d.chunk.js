(this.webpackJsonpvisormapx=this.webpackJsonpvisormapx||[]).push([[11],{586:function(e,c,i){"use strict";c.a=i.p+"static/media/inactivo.c25580cd.svg"},587:function(e,c,i){"use strict";i.d(c,"a",(function(){return r}));var n=i(1),t=i(8),s=i(82),a=(i(588),i(2)),r={TARJETA:0,ELEMENTO:1,PROYECTO:2};c.b=function(e){var c=e.activo,i=void 0===c?0:c,o=e.tipo,l=void 0===o?r.ELEMENTO:o,d=e.history,j=e.direccion,u=Object(n.useContext)(s.a),m=Object(n.useMemo)((function(){var e=[];switch(l){case r.TARJETA:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"tinformacion"}),void 0!=u&&(u.includes("TC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"tconfiguracion"}),(u.includes("TGI")||u.includes("TGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"tgraficas"}),u.includes("TE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"testadistica"}));break;case r.ELEMENTO:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"einformacion"}),void 0!=u&&(u.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"econfiguracion"}),(u.includes("EGI")||u.includes("EGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"egraficas"}),u.includes("EE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"3estadistica"}));break;case r.PROYECTO:void 0!=u&&((u.includes("EGI")||u.includes("EGII"))&&e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"pinformacion"}),u.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"pconfiguracion"}),u.includes("EE")&&e.push({titulo:"Estadistica",id:2,direccion:"estadistica",key:"pestadistica"}),e.push({titulo:"Elementos",id:3,direccion:"elementos",key:"pelementos"}))}return e}),[u,l]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(t.f,{className:"navegacion py-1",children:Object(a.jsx)("div",{className:"panel d-flex justify-content-end",children:Object(a.jsx)(t.J,{variant:"tabs",children:m.map((function(e,c){return Object(a.jsx)(t.K,{children:e.id==i?Object(a.jsx)(t.L,{className:"link",active:!0,children:e.titulo}):Object(a.jsx)(t.L,{className:"link",onClick:function(){return function(e){switch(l){case r.TARJETA:d.push("/tarjetas/".concat(j,"/").concat(m[e].direccion));break;case r.ELEMENTO:d.push("/elementos/".concat(j,"/").concat(m[e].direccion));break;case r.PROYECTO:d.push("/proyectos/".concat(j,"/").concat(m[e].direccion))}}(c)},children:e.titulo})},e.key)}))})})})})}},588:function(e,c,i){},656:function(e,c,i){},798:function(e,c,i){"use strict";i.r(c);var n=i(7),t=i.n(n),s=i(34),a=i(11),r=i(33),o=i(1),l=i(8),d=i(43),j=i(75),u=i(586),m=(i(656),i(2)),b=function(e){var c=e.elemento,i=e.history,n=e.idProyecto,t="activo"==c.estado?j.a:u.a,s=c.estado[0].toUpperCase()+c.estado.substring(1),a=c._id,r=function(e){i.push("/proyectos/".concat(n,"/elementos/").concat(a,"/").concat(e))};return Object(m.jsx)(l.k,{sm:"12",md:"6",lg:"4",children:Object(m.jsxs)(l.f,{className:"shadow overflow-hidden",children:[Object(m.jsx)(l.j,{className:"contenedor-cabecera",children:Object(m.jsx)(l.M,{className:"justify-content-between align-items-center",children:Object(m.jsx)(l.k,{sm:"12",children:Object(m.jsx)("h5",{children:c.nombre})})})}),Object(m.jsx)(l.g,{className:"p-4",children:Object(m.jsxs)("div",{className:"contenedor-elementos",children:[Object(m.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-4 w-75",children:[Object(m.jsx)("img",{src:t,className:"icono"}),Object(m.jsx)("span",{children:s})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column my-4 w-100",children:[Object(m.jsx)("h5",{className:"m-0",children:"".concat(c.descripcion)}),Object(m.jsx)("h5",{className:"m-0",children:"".concat(c.tipo)})]}),Object(m.jsxs)(l.M,{className:"justify-content-center align-items-center my-4 mx-0 w-100",children:[Object(m.jsx)(l.k,{sm:"6",className:"my-1",children:Object(m.jsx)(l.e,{className:"boton-elemento",onClick:function(){return r("informacion")},children:"Informaci\xf3n"})}),c.configuracion?Object(m.jsx)(l.k,{sm:"6",className:"my-1",children:Object(m.jsx)(l.e,{className:"boton-elemento",onClick:function(){return r("configuracion")},children:"Configuraci\xf3n"})}):void 0,c.graficas?Object(m.jsx)(l.k,{sm:"6",className:"my-1",children:Object(m.jsx)(l.e,{className:"boton-elemento",onClick:function(){return r("graficas")},children:"Graficas"})}):void 0,c.estadisticas?Object(m.jsx)(l.k,{sm:"6",className:"my-1",children:Object(m.jsx)(l.e,{className:"boton-elemento",onClick:function(){return r("estadistica")},children:"Estadisticas"})}):void 0]})]})})]})},c._id)},h=i(189),O=i(587);c.default=function(e){var c=e.match.params.idProyecto,i=e.history,n=Object(o.useState)({nombre:"",identificador:"",descripcion:"",area:"",linea:"",proceso:"",tipo:"",estado:"inactivo",icono:u.a}),f=Object(r.a)(n,2),x=f[0],p=f[1],k=Object(o.useState)([]),g=Object(r.a)(k,2),N=g[0],v=g[1],y=Object(o.useState)(!1),E=Object(r.a)(y,2),I=E[0],C=E[1],T=localStorage.getItem("token"),w=c,M=function(){var e=Object(a.a)(t.a.mark((function e(){var c,i,n,a,o,l,m,b,h,O,f,x,k,g,N,y,E,I,C;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(d.k)(T,w),Object(d.u)(T)]);case 2:return c=e.sent,i=Object(r.a)(c,2),n=i[0],a=n.nombre,o=n.identificador,l=n.descripcion,m=n.area,b=n.linea,h=n.proceso,O=n.tipo,f=n.estado,x=n.elementos,k=i[1],g=k.elementos,N=k.servicios,y=(y=x.map((function(e){return e.elemento}))).filter((function(e){return g.includes(e)})),e.next=21,Object(d.e)(T,y);case 21:E=(E=e.sent).map((function(e){return Object(s.a)(Object(s.a)({},e),{},{configuracion:N.includes("PC"),graficas:N.includes("PGI")||N.includes("PGII"),estadisticas:N.includes("PE")})})),I="activo"==f?j.a:u.a,C=f[0].toUpperCase()+f.substring(1),v(E),p({nombre:a,identificador:o,descripcion:l,area:m,linea:b,proceso:h,tipo:O,estado:C,icono:I});case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(Object(a.a)(t.a.mark((function e(){var c;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,M();case 3:return c=setInterval(M,3e4),C(!1),e.abrupt("return",(function(){return clearInterval(c)}));case 6:case"end":return e.stop()}}),e)}))),[]),I?Object(m.jsx)("div",{style:{display:"grid",placeItems:"center",height:"40vh"},children:Object(m.jsx)(h.a,{height:"10vh"})}):Object(m.jsxs)(l.m,{fluid:!0,children:[Object(m.jsx)(O.b,{activo:3,tipo:O.a.PROYECTO,history:i,direccion:w}),Object(m.jsx)(l.M,{children:Object(m.jsx)(l.k,{sm:"12",children:Object(m.jsx)(l.f,{className:"shadow",children:Object(m.jsx)(l.g,{children:Object(m.jsxs)(l.M,{className:"justify-content-between",children:[Object(m.jsxs)(l.k,{className:"col-3 d-flex align-items-center",children:[Object(m.jsx)("img",{src:x.icono,className:"icono"}),Object(m.jsx)("h4",{className:"ml-2",children:x.estado})]}),Object(m.jsxs)(l.k,{className:"col-9 text-right",children:[Object(m.jsx)("h5",{children:"Proyecto"}),Object(m.jsx)("h3",{children:"".concat(x.nombre)})]})]})})})})}),Object(m.jsx)(l.M,{children:Object(m.jsx)(l.k,{children:Object(m.jsxs)(l.f,{className:"shadow",children:[Object(m.jsx)(l.j,{className:"contenedor-cabecera-principal",children:"General"}),Object(m.jsx)(l.g,{children:Object(m.jsxs)(l.H,{accent:!0,children:[Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Identificador :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.identificador})]}),Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Descripcion :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.descripcion})]}),Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Area :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.area})]}),Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Linea :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.linea})]}),Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Proceso :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.proceso})]}),Object(m.jsxs)(l.M,{children:[Object(m.jsx)(l.k,{sm:"4",children:Object(m.jsx)(l.I,{accent:"info",children:"Tipo :"})}),Object(m.jsx)(l.k,{sm:"4",className:"align-self-center",children:x.tipo})]})]})})]})})}),Object(m.jsx)(l.M,{children:Object(m.jsx)(l.k,{sm:"12",children:Object(m.jsxs)(l.f,{className:"shadow",children:[Object(m.jsx)(l.j,{className:"contenedor-cabecera-principal",children:"Elementos"}),Object(m.jsx)(l.g,{children:Object(m.jsx)(l.M,{children:N.map((function(e){return Object(m.jsx)(b,{idProyecto:c,elemento:e,history:i},e._id)}))})})]})})})]})}}}]);
//# sourceMappingURL=11.a94d215d.chunk.js.map