(this.webpackJsonpvisormapx=this.webpackJsonpvisormapx||[]).push([[6],{586:function(e,c,i){"use strict";c.a=i.p+"static/media/inactivo.c25580cd.svg"},587:function(e,c,i){"use strict";i.d(c,"a",(function(){return r}));var s=i(1),n=i(8),t=i(82),a=(i(588),i(2)),r={TARJETA:0,ELEMENTO:1,PROYECTO:2};c.b=function(e){var c=e.activo,i=void 0===c?0:c,l=e.tipo,d=void 0===l?r.ELEMENTO:l,o=e.history,j=e.direccion,b=Object(s.useContext)(t.a),h=Object(s.useMemo)((function(){var e=[];switch(d){case r.TARJETA:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"tinformacion"}),void 0!=b&&(b.includes("TC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"tconfiguracion"}),(b.includes("TGI")||b.includes("TGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"tgraficas"}),b.includes("TE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"testadistica"}));break;case r.ELEMENTO:e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"einformacion"}),void 0!=b&&(b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"econfiguracion"}),(b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Graficas",id:2,direccion:"graficas",key:"egraficas"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:3,direccion:"estadistica",key:"3estadistica"}));break;case r.PROYECTO:void 0!=b&&((b.includes("EGI")||b.includes("EGII"))&&e.push({titulo:"Informaci\xf3n",id:0,direccion:"informacion",key:"pinformacion"}),b.includes("EC")&&e.push({titulo:"Configuraci\xf3n",id:1,direccion:"configuracion",key:"pconfiguracion"}),b.includes("EE")&&e.push({titulo:"Estadistica",id:2,direccion:"estadistica",key:"pestadistica"}),e.push({titulo:"Elementos",id:3,direccion:"elementos",key:"pelementos"}))}return e}),[b,d]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(n.f,{className:"navegacion py-1",children:Object(a.jsx)("div",{className:"panel d-flex justify-content-end",children:Object(a.jsx)(n.J,{variant:"tabs",children:h.map((function(e,c){return Object(a.jsx)(n.K,{children:e.id==i?Object(a.jsx)(n.L,{className:"link",active:!0,children:e.titulo}):Object(a.jsx)(n.L,{className:"link",onClick:function(){return function(e){switch(d){case r.TARJETA:o.push("/tarjetas/".concat(j,"/").concat(h[e].direccion));break;case r.ELEMENTO:o.push("/elementos/".concat(j,"/").concat(h[e].direccion));break;case r.PROYECTO:o.push("/proyectos/".concat(j,"/").concat(h[e].direccion))}}(c)},children:e.titulo})},e.key)}))})})})})}},588:function(e,c,i){},611:function(e,c,i){},654:function(e,c,i){},794:function(e,c,i){"use strict";i.r(c);var s=i(7),n=i.n(s),t=i(34),a=i(11),r=i(33),l=i(1),d=i(8),o=(i(30),i(611),i(43)),j=i(75),b=i(586),h=(i(654),i(2)),x=function(e){var c=e.sensor,i=c.estado[0].toUpperCase()+c.estado.substring(1),s="activo"==c.estado,n=s?j.a:b.a,t=c.peligrosidad.tendencia[0]+c.peligrosidad.tendencia[1];return Object(h.jsx)(d.k,{sm:"12",children:Object(h.jsxs)(d.f,{className:"shadow",children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{children:c.nombre})}),null!==c.basica&&s?Object(h.jsxs)(d.g,{children:[Object(h.jsxs)("div",{className:"container-fluid d-flex align-items-center my-4",children:[Object(h.jsx)("img",{src:n,className:"icono"}),Object(h.jsx)("h4",{className:"ml-2",children:i})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Basica"})}),Object(h.jsxs)(d.g,{children:[Object(h.jsx)("h6",{className:"my-2",children:"Valor"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Actual   : ".concat(c.basica.actual.toFixed(4)," ").concat(c.unidades)}),Object(h.jsx)("li",{children:"Minimo   : ".concat(c.basica.min.toFixed(4)," ").concat(c.unidades)}),Object(h.jsx)("li",{children:"Promedio : ".concat(c.basica.promedio.toFixed(4)," ").concat(c.unidades)}),Object(h.jsx)("li",{children:"Maximo   : ".concat(c.basica.max.toFixed(4)," ").concat(c.unidades)})]}),Object(h.jsx)("h6",{className:"my-2",children:"Nivel"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Nivel Actual   : ".concat(c.basica.nivelactual.toFixed(4))}),Object(h.jsx)("li",{children:"Nivel Minimo   : ".concat(c.basica.nivelmin.toFixed(4))}),Object(h.jsx)("li",{children:"Nivel Promedio : ".concat(c.basica.nivelpromedio.toFixed(4))}),Object(h.jsx)("li",{children:"Nivel M\xe1ximo   : ".concat(c.basica.nivelmax.toFixed(4))})]}),Object(h.jsx)("h6",{className:"my-2",children:"General"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Paquetes   : ".concat(c.basica.paquetes)}),Object(h.jsx)("li",{children:"Eficiencia : ".concat((100*c.basica.eficiencia).toFixed(4)," %")})]})]})]})}),Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Niveles"})}),Object(h.jsxs)(d.g,{children:[Object(h.jsx)("h6",{className:"my-2",children:"Valor"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Actual   : ".concat(c.landmarks.actual.toFixed(4))}),Object(h.jsx)("li",{children:"Minimo   : ".concat(c.landmarks.min.toFixed(4))}),Object(h.jsx)("li",{children:"Promedio : ".concat(c.landmarks.promedio.toFixed(4))}),Object(h.jsx)("li",{children:"M\xe1ximo   : ".concat(c.landmarks.max.toFixed(4))})]}),Object(h.jsx)("h6",{className:"my-2",children:"Cambio [ t ]"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Actual   : ".concat(c.landmarks.deltai.toFixed(4)/2," min")}),Object(h.jsx)("li",{children:"Minimo   : ".concat(c.landmarks.deltaimin.toFixed(4)/2," min")}),Object(h.jsx)("li",{children:"Promedio : ".concat(c.landmarks.deltaipromedio.toFixed(4)/2," min")}),Object(h.jsx)("li",{children:"M\xe1ximo   : ".concat(c.landmarks.deltaimax.toFixed(4)/2," min")})]}),Object(h.jsx)("h6",{className:"my-2",children:"Cambio [ f(t) ]"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Actual     : ".concat(c.landmarks.deltay.toFixed(4))}),Object(h.jsx)("li",{children:"Minimo     : ".concat(c.landmarks.deltaymin.toFixed(4))}),Object(h.jsx)("li",{children:"Promedio   : ".concat(c.landmarks.deltaypromedio.toFixed(4))}),Object(h.jsx)("li",{children:"M\xe1ximo     : ".concat(c.landmarks.deltaymax.toFixed(4))}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:"Paquetes   : ".concat(c.landmarks.paquetes)}),Object(h.jsx)("li",{children:"Marca : ".concat(c.landmarks.landmark?"\ud83d\udd35":"\u26aa")})]})]})]})}),Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Tendencia"})}),Object(h.jsxs)(d.g,{children:[Object(h.jsx)("h6",{className:"my-2",children:"Valor"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Actual   : ".concat(c.peligrosidad.actual.toFixed(4))}),Object(h.jsx)("li",{children:"Minimo   : ".concat(c.peligrosidad.min.toFixed(4))}),Object(h.jsx)("li",{children:"Promedio : ".concat(c.peligrosidad.promedio.toFixed(4))}),Object(h.jsx)("li",{children:"M\xe1ximo   : ".concat(c.peligrosidad.max.toFixed(4))})]}),Object(h.jsx)("h6",{className:"my-2",children:"Tendencia"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("pre",{children:[Object(h.jsx)("li",{children:"Baja   : ".concat(0!=t?(100*c.peligrosidad.tendencia[0]/t).toFixed(4):0," %")}),Object(h.jsx)("li",{children:"Alta   : ".concat(0!=t?(100*c.peligrosidad.tendencia[1]/t).toFixed(4):0," %")}),Object(h.jsx)("hr",{}),Object(h.jsx)("li",{children:"Paquetes    : ".concat(c.peligrosidad.paquetes)}),Object(h.jsx)("li",{children:"Marca       : ".concat(c.landmarks.landmark?"\ud83d\udd35":"\u26aa")})]})]})]})})]})]}):Object(h.jsxs)(d.g,{className:"shadow",children:[Object(h.jsxs)("div",{className:"container-fluid d-flex align-items-center my-4",children:[Object(h.jsx)("img",{src:n,className:"icono"}),Object(h.jsx)("h4",{className:"ml-2",children:i})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"B\xe1sica"})}),Object(h.jsx)(d.g,{children:"Informaci\xf3n no disponible"})]})}),Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Niveles"})}),Object(h.jsx)(d.g,{children:"Informaci\xf3n no disponible"})]})}),Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h5",{className:"m-0",children:"Tendencia"})}),Object(h.jsx)(d.g,{children:"Informaci\xf3n no disponible"})]})})]})]})]})})},O=function(e){var c=e.sensores;return Object(h.jsx)(d.M,{children:c.valores.map((function(e,c){return Object(h.jsx)(x,{sensor:e},c)}))})},m=i(189),u=i(587);c.default=function(e){var c=e.match.params.idElemento,i=e.history,s=Object(l.useState)([]),f=Object(r.a)(s,2),p=f[0],g=f[1],k=Object(l.useState)([]),N=Object(r.a)(k,2),v=N[0],E=N[1],y=Object(l.useState)({nombre:"",identificador:"",descripcion:"",area:"",linea:"",tipo:"",proceso:"",estado:"inactivo",icono:b.a}),M=Object(r.a)(y,2),I=M[0],F=M[1],T=Object(l.useState)(!0),C=Object(r.a)(T,2),w=C[0],A=C[1],P=Object(l.useRef)(null),G=localStorage.getItem("token"),L=c,S=function(){var e=Object(a.a)(n.a.mark((function e(){var c,i,s,a,r,l,d,h,x,O,m,u,f,p,k,N,v,y,M,I,T;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(G,L);case 2:return c=e.sent,i=c.nombre,s=c.identificador,a=c.descripcion,r=c.area,l=c.linea,d=c.proceso,h=c.tipo,x=c.estado,O=c.sensores,m=c.graficas,u="",O.length>0&&(u=O[0].direccion.substr(0,5)),e.next=17,Object(o.n)(u,G);case 17:return f=e.sent,p=f.sensores,k=[],O.forEach((function(e){k.push("".concat(e.direccion))})),e.next=23,Object(o.s)(k,G);case 23:N=e.sent,v=N.sensores,y=[],O.map((function(e,c){var i=e.direccion,s=i.slice(i.indexOf(".")+2,i.length),n=p.find((function(e){return e.index===parseInt(s)}));y.push(Object(t.a)({nombre:n.nombre,alias:n.alias,estado:n.estado,unidades:n.unidades,clase:"S"},v[0][c]))})),g(y),M=[],m.forEach((function(e){var c=[];e.direcciones.forEach((function(e){if("S"===e[0]){var i=parseInt(e.substring(1)),s=O[i].direccion,n=s.slice(s.indexOf(".")+2,s.length),a=p.find((function(e){return e.index===parseInt(n)}));"activo"===a.estado&&c.push(Object(t.a)({nombre:a.nombre,alias:a.alias,estado:a.estado,unidades:a.unidades,clase:"S"},v[0][i]))}})),c.length>0&&M.push({nombre:e.nombre,datos:{tipo:"sensores",valores:c}})})),E(M),I="activo"==x?j.a:b.a,T=x[0].toUpperCase()+x.substring(1),F({nombre:i,identificador:s,descripcion:a,area:r,linea:l,tipo:h,proceso:d,estado:T,icono:I});case 34:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){return function(){null!=P.current&&clearInterval(P.current)}}),[]),Object(l.useEffect)(Object(a.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),null!=P.current&&(clearInterval(P.current),P.current=null),e.next=4,S();case 4:P.current=setInterval(S,3e4),A(!1);case 6:case"end":return e.stop()}}),e)}))),[c]),w?Object(h.jsx)("div",{style:{display:"grid",placeItems:"center",height:"40vh"},children:Object(h.jsx)(m.a,{height:"10vh"})}):Object(h.jsxs)(d.m,{fluid:!0,children:[Object(h.jsx)(u.b,{activo:3,tipo:u.a.ELEMENTO,history:i,direccion:L}),Object(h.jsx)(d.M,{children:Object(h.jsx)(d.k,{sm:"12",children:Object(h.jsx)(d.f,{className:"shadow",children:Object(h.jsx)(d.g,{children:Object(h.jsxs)(d.M,{className:"justify-content-between",children:[Object(h.jsxs)(d.k,{className:"col-3 d-flex align-items-center",children:[Object(h.jsx)("img",{src:I.icono,className:"icono"}),Object(h.jsx)("h4",{className:"ml-2",children:I.estado})]}),Object(h.jsxs)(d.k,{className:"col-9 text-right",children:[Object(h.jsx)("h5",{children:"Elemento"}),Object(h.jsx)("h3",{children:"".concat(I.nombre)})]})]})})})})}),Object(h.jsx)(d.M,{children:Object(h.jsx)(d.k,{children:Object(h.jsxs)(d.f,{className:"shadow",children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h4",{children:"General"})}),Object(h.jsx)(d.g,{children:Object(h.jsxs)(d.H,{accent:!0,children:[Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Identificador :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.identificador})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Descripci\xf3n :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.descripcion})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Area :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.area})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Linea :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.linea})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Proceso :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.proceso})]}),Object(h.jsxs)(d.M,{children:[Object(h.jsx)(d.k,{sm:"4",children:Object(h.jsx)(d.I,{accent:"info",children:"Tipo :"})}),Object(h.jsx)(d.k,{sm:"4",className:"align-self-center",children:I.tipo})]})]})})]})})}),Object(h.jsx)(d.M,{children:Object(h.jsx)(d.k,{sm:"12",children:Object(h.jsxs)(d.f,{className:"shadow",children:[Object(h.jsx)(d.j,{className:"contenedor-cabecera",children:Object(h.jsx)("h4",{children:"Sensores"})}),Object(h.jsx)(d.g,{children:Object(h.jsxs)(d.Z,{activeTab:"grupos",children:[Object(h.jsx)(d.J,{variant:"tabs",children:Object(h.jsx)(d.K,{children:Object(h.jsx)(d.L,{"data-tab":"grupos",children:"Grupos"})})}),Object(h.jsxs)(d.X,{children:[Object(h.jsx)(d.Y,{"data-tab":"grupos",children:v.map((function(e,c){return Object(h.jsxs)("div",{className:"contenedor-cabecera-grafica",children:[Object(h.jsx)("h4",{className:"my-4",children:e.nombre}),Object(h.jsx)(O,{sensores:e.datos})]},c)}))}),Object(h.jsx)(d.Y,{"data-tab":"todos",children:Object(h.jsx)(d.M,{children:p.map((function(e,c){return Object(h.jsx)(x,{sensor:e},c)}))})})]})]})})]})})})]})}}}]);
//# sourceMappingURL=6.f0e4e5b4.chunk.js.map